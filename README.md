# Objectives of this repo : gapi-node
This repo was created to meet these objectives: 

1. show a [demo example website](https://wilsonmar.github.com/gapi-node) 
and describe how it calls a Google API (using JWT) from within a node.js server.
2. explore current options to make those calls (the various libraries available), 
3. explain JWT construction internals (base64, signing, etc.) used by the code used in #1 above.
4. show additional variations on use of Google API, such as Reports API to collect and display data Google collects.

Videos have been created to make dynamic reveal of illustrations with spoken text.

# Tasks To Do
- [ ] Objective 2 - Explore libraries (done first to not waste time on objective 1)

- [ ] Objective 1 - Call Google API
  - [x] Create github repo (Wilson)
  - [ ] Create github.io/gapi-node (wilson)
  - [ ] Provide API key (Wilson)
  - [ ] Code client form URL with no formatting, no retrieval of QR code (Abdul)
  - [ ] local node.js skeleton (Wilson with Abdul)
  - [ ] Add library to call Google API (Abdul)
  - [ ] Add calling code in node server code (Abdul)
  - [ ] Code client QR code retrieval and display client side (Abdul)

  - [ ] Transfer server code to Heroku?
  - [ ] ~~Store credentials in MongoDB~~

- [ ] Objective 3 - Explain JWT
- [ ] Objective 4 - Reports API calls

# Overview and Background

# Client
The sample app shown at https://wilsonmar.github.com/gapi-node 
is structured like an app that calls the Google API.
a. Type out a URL you would like to shorten and click "Shorten".
b. The response is the shortened URL 
c. The QR code image generated by Google.
d. The URL is added to the list of URLs in the drop-down.
e. Statistics presented is for the URL selected from the list.

## Get Your Google API Key

## Convert Your Google API Private Key

## Client libraries
https://developers.google.com/api-client-library/dotnet/apis/urlshortener/v1

# Server
In order to not expose credentials in client code, calls to the Google API needs to be made from a server. In our case, from a node.js server. The sample server code is based on use of ???

# JWT vs. JWS vs. JWE
## JWT
JWS is an example of JWT defined in the IETF draft at https://tools.ietf.org/html/draft-ietf-oauth-json-web-token-32.
JSON Web Token (JWT) is a compact, URL-safe means of representing claims to be transferred between two parties.  The claims in a JWT are encoded as a JavaScript Object Notation (JSON) object that is used as the payload of a JSON Web Signature (JWS) structure or as the plaintext of a JSON Web Encryption (JWE) structure, enabling the claims to be digitally signed or MACed and/or encrypted.

## JWS
(https://github.com/brianloveswords/node-jws)
implements the creation of a
JSON Web Signature (JWS) as defined in http://self-issued.info/docs/draft-ietf-jose-json-web-signature.html
JSON Web Signature (JWS) represents content secured with digital signatures or Message Authentication Codes (MACs) using JavaScript Object Notation (JSON) based data structures. Cryptographic algorithms and identifiers for use with this specification are described in the separate JSON Web Algorithms (JWA) specification and an IANA registry defined by that specification. Related encryption capabilities are described in the separate JSON Web Encryption (JWE) specification.

## JWE
